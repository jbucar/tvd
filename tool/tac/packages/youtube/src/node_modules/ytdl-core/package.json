{
  "_args": [
    [
      {
        "raw": "ytdl-core",
        "scope": null,
        "escapedName": "ytdl-core",
        "name": "ytdl-core",
        "rawSpec": "",
        "spec": "latest",
        "type": "tag"
      },
      "/home/shared/work/repos/tvd/tool/tac/packages/youtube/src"
    ]
  ],
  "_from": "ytdl-core@latest",
  "_id": "ytdl-core@0.14.1",
  "_inCache": true,
  "_location": "/ytdl-core",
  "_nodeVersion": "7.9.0",
  "_npmOperationalInternal": {
    "host": "packages-18-east.internal.npmjs.com",
    "tmp": "tmp/ytdl-core-0.14.1.tgz_1495118107469_0.27066498692147434"
  },
  "_npmUser": {
    "name": "fent",
    "email": "roly426@gmail.com"
  },
  "_npmVersion": "4.2.0",
  "_phantomChildren": {},
  "_requested": {
    "raw": "ytdl-core",
    "scope": null,
    "escapedName": "ytdl-core",
    "name": "ytdl-core",
    "rawSpec": "",
    "spec": "latest",
    "type": "tag"
  },
  "_requiredBy": [
    "#USER"
  ],
  "_resolved": "https://registry.npmjs.org/ytdl-core/-/ytdl-core-0.14.1.tgz",
  "_shasum": "18eb845591a8351c50da3bd767be3a8aa59179ec",
  "_shrinkwrap": null,
  "_spec": "ytdl-core",
  "_where": "/home/shared/work/repos/tvd/tool/tac/packages/youtube/src",
  "author": {
    "name": "Roly Fentanes",
    "url": "https://github.com/fent"
  },
  "bugs": {
    "url": "https://github.com/fent/node-ytdl-core/issues"
  },
  "contributors": [
    {
      "name": "Tobias Kutscha",
      "url": "https://github.com/TimeForANinja"
    },
    {
      "name": "Andrew Kelley",
      "url": "https://github.com/andrewrk"
    },
    {
      "name": "Mauricio Allende",
      "url": "https://github.com/mallendeo"
    },
    {
      "name": "Rodrigo Altamirano",
      "url": "https://github.com/raltamirano"
    },
    {
      "name": "Jim Buck",
      "url": "https://github.com/JimmyBoh"
    }
  ],
  "dependencies": {
    "html-entities": "^1.1.3",
    "m3u8stream": "^0.1.1",
    "miniget": "^1.0.0",
    "sax": "^1.1.3"
  },
  "description": "Youtube video downloader in pure javascript.",
  "devDependencies": {
    "@types/node": "^7.0.12",
    "assert-diff": "^1.0.1",
    "istanbul": "^0.4.5",
    "mocha": "^3.2.0",
    "muk-prop": "^1.0.0",
    "nock": "*",
    "sinon": "^2.2.0",
    "stream-equal": "~1.0.0"
  },
  "directories": {},
  "dist": {
    "shasum": "18eb845591a8351c50da3bd767be3a8aa59179ec",
    "tarball": "https://registry.npmjs.org/ytdl-core/-/ytdl-core-0.14.1.tgz"
  },
  "engines": {
    "node": ">=0.12"
  },
  "files": [
    "lib",
    "typings"
  ],
  "gitHead": "4246fcd15678dadfb361a9f9febfdfcac5431d33",
  "homepage": "https://github.com/fent/node-ytdl-core#readme",
  "keywords": [
    "youtube",
    "video",
    "download"
  ],
  "license": "MIT",
  "main": "./lib/index.js",
  "maintainers": [
    {
      "name": "fent",
      "email": "roly426@gmail.com"
    }
  ],
  "name": "ytdl-core",
  "optionalDependencies": {},
  "readme": "# node-ytdl-core\n\nYet another youtube downloading module. Written with only Javascript and a node-friendly streaming interface.\n\n[![Build Status](https://secure.travis-ci.org/fent/node-ytdl-core.svg)](http://travis-ci.org/fent/node-ytdl-core)\n[![Dependency Status](https://david-dm.org/fent/node-ytdl-core.svg)](https://david-dm.org/fent/node-ytdl-core)\n[![codecov](https://codecov.io/gh/fent/node-ytdl-core/branch/master/graph/badge.svg)](https://codecov.io/gh/fent/node-ytdl-core)\n\nFor a CLI version of this, check out [ytdl](https://github.com/fent/node-ytdl) and [pully](https://github.com/JimmyBoh/pully).\n\n# Usage\n\n```js\nconst fs = require('fs');\nconst ytdl = require('ytdl-core');\n\nytdl('http://www.youtube.com/watch?v=A02s8omM_hI')\n  .pipe(fs.createWriteStream('video.flv'));\n```\n\n\n# API\n### ytdl(url, options)\n\nAttempts to download a video from the given url. Returns a readable stream. `options` can have the following keys\n\n* `quality` - Video quality to download. Can be an [itag value](http://en.wikipedia.org/wiki/YouTube#Quality_and_formats) value, a list of itag values, or `highest`/`lowest`. Defaults to `highest`.\n* `filter` - Can be `video` to filter for formats that contain video, `videoonly` for formats that contain video and no additional audio track. Can also be `audio` or `audioonly`. You can give a filtering function that gets called with each format available. Used to decide what format to download. This function is given the `format` object as its first argument, and should return true if the format is preferable.\n* `format` - This can be a specific `format` object returned from `getInfo`. This is primarily used to download specific video or audio streams. Note: Supplying this option will ignore the `filter` and `quality` options since the format is explicitly provided.\n* `range` - A byte range in the form `{start: INT, end: INT}` that specifies part of the file to download. ie {start: 10355705, end: 12452856}. Note: this downloads a portion of the file, and not a separately spliced video.\n* `begin` - What time to begin downloading the video, supports formats 00:00:00.000, or 0ms, 0s, 0m, 0h, or number of milliseconds. Example: 1:30, 05:10.123, 10m30s. This option may not work on super short (less than 30s) videos, and has to be at ar above 6s. See [#129](https://github.com/fent/node-ytdl-core/issues/129)\n* `requestOptions` - Anything to merge into the request options which [miniget](https://github.com/fent/node-miniget) is called with, such as headers.\n* `highWaterMark` - How much of the video download to buffer into memory. See [node's docs](https://nodejs.org/api/stream.html#stream_constructor_new_stream_writable_options) for more.\n* `retries` - The number of retries ytdl is allowed to do before terminating the stream with an error. The default is set to 5.\n* `lang` - The 2 character symbol of a language. Is by default set to \"en\".\n\n```js\n// Example with `filter` option.\nytdl(url, { filter: function(format) { return format.container === 'mp4'; } })\n  .pipe(fs.createWriteStream('video.mp4'));\n```\n\n#### Event: 'info'\n* `Object` - Info.\n* `Object` - Format.\n\nEmitted when the a video's `info` hash is fetched. Along with the chosen format metadata to download. `format.url` might be different if `start` was given.\n\nAn example of what Info and format may look like is in the [example folder](example/info.json).\n\n#### Event: 'response'\n* `http.ServerResponse` - Response.\n\nEmitted when the video response has been found, and has started downloading. Can be used to get the size of download. This is also emitted if there is an error with the download or it needs to reconnect to YouTube.\n\n#### Event: 'progress'\n* `Number` - Chunk length.\n* `Number` - Total downloaded.\n* `Number` - Total download length.\n\nEmitted whenever a new chunk is received. Passes values descriping the download progress and the parsed percentage.\n\n### Stream#destroy()\n\nDestroys the underlying connection.\n\n### ytdl.getInfo(url, [options], [callback(err, info)])\n\nUse this if you only want to get metainfo from a video. If `callback` isn't given, returns a promise.\n\n### ytdl.downloadFromInfo(info, options)\n\nOnce you have received metadata from a video with the `getInfo` function,\nyou may pass that `info`, along with other `options` to `downloadFromInfo`.\n\n### ytdl.chooseFormat(formats, options)\n\nCan be used if you'd like to choose a format yourself with the [options above](#ytdlurl-options).\n\n### ytdl.filterFormats(formats, filter)\n\nIf you'd like to work with only some formats, you can use the [`filter` option above](#ytdlurl-options).\n\n## Limitations\n\nytdl cannot download videos that fall into the following\n* Regionally restricted (requires a [proxy](example/proxy.js))\n* Private\n* Rentals\n\n## Handling Separate Streams\n\nTypically 1080p or better video does not have audio encoded with it. The audio must be downloaded separately and merged via an appropriate encoding library. `ffmpeg` is the most widely used tool, with many [Node.js modules available](https://www.npmjs.com/search?q=ffmpeg). Use the `format` objects returned from `ytdl.getInfo` to download specific streams to combine to fit your needs. Look at [example/ffmpeg.js](example/ffmpeg.js) for an example on doing this.\n\n## What if it stops working?\n\nYoutube updates their website all the time, it's not that rare for this to stop working. If it doesn't work for you and you're using the latest version, feel free to open up an issue. Make sure to check if there isn't one already with the same error.\n\nIf you'd like to help fix the issue, look at the type of error first. The most common one is\n\n    Could not extract signature deciphering actions\n\nRun the tests at `test/irl-test.js` just to make sure that this is actually an issue with ytdl-core.\n\n    mocha test/irl-test.js\n\nThese tests are not mocked, and actually try to start downloading a few videos. If these fail, then it's time to debug.\n\nSet `debug: true` in the tests. Debug will write the html5player file to `test/files/html5player` and will add an entry for its name in `test/html5player.json`. With the html5player downloaded, you can open it and figure how it's failing to extract the signature deciphering function.\n\nFor the specifics on that, you can look at the `extractActions()` function in [`/lib/sig.js`](https://github.com/fent/node-ytdl-core/blob/master/lib/sig.js).\n\n\n# Install\n\n    npm install ytdl-core\n\n\n# Tests\nTests are written with [mocha](https://mochajs.org)\n\n```bash\nnpm test\n```\n\n# License\nMIT\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/fent/node-ytdl-core.git"
  },
  "scripts": {
    "test": "istanbul cover node_modules/.bin/_mocha -- -t 16000 test/*-test.js"
  },
  "types": "./typings/index.d.ts",
  "version": "0.14.1"
}
